#+hugo_base_dir: ../
#+hugo_section: /post/
#+options: author:nil
#+options: ^:nil
#+OPTIONS: tex:t
#+STARTUP: inlineimages
#+ATTR_ORG: :width 500

* âœ” DONE æŠŠ Emacs æ‰“é€ ä¸º Python IDE                          :tech:@æŠ€æœ¯:
CLOSED: [2025-10-12 Sun 09:10]
:PROPERTIES:
:EXPORT_FILE_NAME: emacs_as_python_IDE
:END:
é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰æ˜¯ä¸€ç§å¸®åŠ©ç¨‹åºå‘˜é«˜æ•ˆå¼€å‘è½¯ä»¶ä»£ç çš„è½¯ä»¶åº”ç”¨ç¨‹åºã€‚å®ƒé€šè¿‡å°†è½¯ä»¶ç¼–è¾‘ã€æ„å»ºã€æµ‹è¯•å’Œæ‰“åŒ…ç­‰åŠŸèƒ½ç»“åˆåˆ°ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæé«˜äº†å¼€å‘äººå‘˜çš„å·¥ä½œæ•ˆç‡ã€‚å°±åƒä½œå®¶ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä¼šè®¡å¸ˆä½¿ç”¨ç”µå­è¡¨æ ¼ä¸€æ ·ï¼Œè½¯ä»¶å¼€å‘äººå‘˜ä½¿ç”¨ =IDE= è®©ä»–ä»¬çš„å·¥ä½œå˜å¾—æ›´è½»æ¾ã€‚å½“å‰æ¯”è¾ƒæµè¡Œçš„ =Python IDE= æœ‰ =PyCharm=, =IDEA=, =VS CODE= ç­‰ã€‚ =Emacs= ä½œä¸ºä¸€ä¸ªå¯æ‰©å±•çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¤„ç†å„ç§æ–‡æœ¬æ•°æ®æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚æˆ‘ä»¬åœ¨ Emacs é‡Œå¢åŠ  =elisp= æ‰©å±•ï¼Œå°±å¯ä»¥æ¨¡æ‹Ÿå„ç§ =IDE= çš„ç¯å¢ƒï¼Œè¿˜èƒ½æ›´å¥½ã€‚

** IDE çš„åŠŸèƒ½
éœ€è¦æ¨¡æ‹Ÿçš„ IDE åŸºæœ¬åŠŸèƒ½åº”è¯¥åŒ…å«ï¼š
- ä»£ç ç¼–è¾‘
- è¯­æ³•é«˜äº®
- æ–‡æ¡£æŸ¥æ‰¾
- ä»£ç è·³è½¬
- è¯­æ³•è§£æ
- ä»£ç è§„èŒƒ
- ä»£ç æ£€æŸ¥
- ä»£ç è°ƒè¯•

** æ˜¾ç¤º
åŸºæœ¬çš„åŠŸèƒ½åº”è¯¥æœ‰ï¼šä»£ç ç¼–è¾‘å’Œè¯­æ³•é«˜äº®ã€‚Emacs é‡Œè‡ªå¸¦çš„ python-mode å°±å¯ä»¥æ»¡è¶³è¦æ±‚ã€‚å½“æ‰“å¼€ä¸€ä¸ª =.py= ç»“å°¾çš„æ–‡ä»¶æ—¶ï¼ŒEmacs ä¼šè‡ªåŠ¨åŒ¹é… python-mode æ¨¡å¼ã€‚

*** æ›´å¥½çš„æ˜¾ç¤º
å¦‚æœè§‰å¾—åŸºæœ¬çš„ python-mode ä¸å¤Ÿï¼Œå¯ä»¥ç”¨æ›´å¥½çš„è¯­æ³•è§£æï¼Œç„¶åæ˜¾ç¤ºã€‚
#+begin_src emacs-lisp
    (use-package tree-sitter
      :ensure t
      :hook ((python-mode     . tree-sitter-hl-mode)
             (python-ts-mode  . tree-sitter-hl-mode)
            )
    )

    (use-package tree-sitter-langs
      :after tree-sitter 
      :config
      (tree-sitter-require 'python)
    )
#+end_src
æœ‰æ—¶å€™ Emacs å‡çº§äº†ä¹‹åï¼Œ =tree-sitter= ç‰ˆæœ¬ä¸åŒ¹é…ï¼Œå¯ä»¥æ‰‹åŠ¨ç¼–è¯‘ =tree-sitter-langs= ï¼Œç„¶åæŠŠç¼–è¯‘å¥½çš„ =dylib= æ–‡ä»¶æ‹·è´åˆ° =~/.emacs.d/tree-sitter= ç›®å½•ä¸‹ï¼Œå–åä¸º =libtree-sitter-python.dylib= 

è®¾ç½®å¥½äº†ä¹‹åï¼Œè¯­æ³•é«˜äº®å°±æ¯”è¾ƒæ¼‚äº®äº†ã€‚

#+ATTR_ORG: :width 500
#+ATTR_HTML: :width 60% :align center
[[file:~/Documents/RDS/BLOG/hugo/static/img/tree-sitter.jpg]]

** æ–‡æ¡£è¯´æ˜
ç¼–ç¨‹éœ€è¦æ—¶æ—¶åœ°æŸ¥æ‰¾æŸä¸ªå‡½æ•°çš„è¯´æ˜ã€ç”¨æ³•ç­‰ã€‚æˆ‘ä»¬é‡‡ç”¨ =eldoc= å®åŒ…å¤„ç†ã€‚
#+begin_src emacs-lisp
  (use-package eldoc
    :ensure t
    :defer t
    :init
    (global-eldoc-mode)
  )

  (global-set-key (kbd "C-x c d") 'eldoc-doc-buffer)
#+end_src
å½“å…‰æ ‡æ”¾åœ¨æŸä¸ªå‡½æ•°/å˜é‡ä¸Šæ—¶ï¼Œç”¨å¿«æ·é”® =C-x c d= æˆ–è€… =M-x eldoc= å°±å¯ä»¥æ˜¾ç¤ºå®ƒçš„èµ„æ–™
è¯´æ˜---ä¸€èˆ¬å°±æ˜¯æŠŠå‡½æ•°å®šä¹‰é‡Œçš„è¯´æ˜ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥ã€‚ æ¯”å¦‚ï¼Œ

#+ATTR_ORG: :width 500
#+ATTR_HTML: :width 60% :align center
[[file:~/Documents/RDS/BLOG/hugo/static/img/eldoc.jpg]]

*** æ›´å¥½çš„æ–‡æ¡£
=eldoc= èƒ½å¤Ÿè¯†åˆ«å¾ˆå¤šç¼–ç¨‹è¯­è¨€ï¼Œæ—¢ç„¶é€šç”¨æ€§å¼ºï¼Œä¸“ä¸šæ€§å°±è¦ç¨ç¨å¼±ä¸€ç‚¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸“é—¨é’ˆå¯¹ =python= è¯­è¨€çš„æ–‡æ¡£è¯´æ˜---=elpy= ã€‚

#+begin_src emacs-lisp
  (use-package elpy
    :ensure t
    :init
    (elpy-enable)
  )
#+end_src
å½“æŒ‰ä¸‹å¿«æ·é”® =C-c C-d= æˆ–è€… =M-x elpy-doc= æ—¶ï¼Œå°±å¯ä»¥åœ¨ =elpy= çš„ buffer é‡Œæ˜¾ç¤ºæ–‡æ¡£ã€‚
æ¯”å¦‚ï¼Œ
#+ATTR_ORG: :width 500
#+ATTR_HTML: :width 60% :align center
[[file:~/Documents/RDS/BLOG/hugo/static/img/elpy-doc.jpg]]

=elpy= ä¸ä»…ä»…æ˜¯ python çš„æ–‡æ¡£è°ƒç”¨ï¼Œå®ƒåŒ…å«äº†æ›´å¤šçš„ python ç¯å¢ƒè®¾ç½®ï¼ˆåé¢æˆ‘ä¼šè®²åˆ°å…¶ä»–çš„åº”ç”¨ï¼‰ï¼Œè¿™é‡Œåªæ˜¯æ˜¾ç¤ºäº†å®ƒçš„æ–‡æ¡£æ˜¾ç¤ºåŠŸèƒ½ã€‚

** è¯­æ³•æ£€æŸ¥
python ä»£ç æ˜¯å¦ç¬¦åˆè¯­æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸“é—¨çš„æ£€æŸ¥å·¥å…·æ¥åˆ¤æ–­ã€‚æœ€å¸¸ç”¨çš„æœ‰ =flycheck= å’Œ =flymake= ä¸¤ç§ã€‚æˆ‘å€¾å‘äºç”¨ =flycheck= ï¼Œ
#+begin_src emacs-lisp
  (use-package flycheck
    :ensure t
    ;; å…¨å±€å¯ç”¨ flycheck
    :hook (python-mode . flycheck-mode)
    :init (global-flycheck-mode)
  )
#+end_src
å¦‚æœå‘ç°ä»£ç é‡Œæœ‰çº¢è‰²çš„æ³¢æµªçº¿æ˜¾ç¤ºï¼Œå°±è¡¨ç¤ºå‘ç°äº†è¯­æ³•é”™è¯¯ï¼Œè¯·å°½å¿«ä¿®æ”¹ã€‚

*** æ›´å¥½çš„è¯­æ³•æ£€æŸ¥
=flycheck= é»˜è®¤è°ƒç”¨äº† =flake8= æˆ–è€…å…¶ä»–å·¥å…·æ¥è¿›è¡Œè¯­æ³•æ£€æŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™äº›å·¥å…·æ¢æˆæœ€æ–°æœ€å¿«çš„å·¥å…·---- =ruff= ã€‚
#+begin_src emacs-lisp
  (use-package flycheck
    :ensure t
    ;; å…¨å±€å¯ç”¨ flycheck
    :hook (python-mode . flycheck-mode)
    :init (global-flycheck-mode)
    :config
    ;; è®¾ç½® ruff ä¸º Python çš„é»˜è®¤æ£€æŸ¥å™¨ã€‚è¿™æ · flycheck å°±ä¼šä¼˜å…ˆä½¿ç”¨ ruffï¼Œè€Œä¸æ˜¯ flake8 æˆ– pylint
    (setq-default flycheck-checker 'python-ruff)
    (setq flycheck-display-errors-delay 0.3)
    (setq flycheck-check-syntax-automatically '(save mode-enabled))
  )

  ;;ï¸ å®šä¹‰ä¸€ä¸ªæ–°çš„ Flycheck æ£€æŸ¥å™¨
  (flycheck-define-checker python-ruff
    "A Python syntax checker using Ruff."
    :command ("ruff" "check" "--output-format" "json" source) ; é‡‡ç”¨ JSON è¾“å‡ºï¼Œä¾¿äºè§£æ
    :error-parser
    (lambda (output _checker _buffer)
      ;; å°† Ruff çš„ JSON è§£æä¸º Flycheck é”™è¯¯ç»“æ„
      (let ((json (json-parse-string output :object-type 'alist)))
        (mapcan (lambda (diag)
                  (let* ((code (alist-get 'code diag))
                         (msg  (alist-get 'message diag))
                         (path (alist-get 'filename diag))
                         (line (alist-get 'line diag))
                         (col  (alist-get 'column diag))
                         (severity (alist-get 'severity diag))
                         (level (pcase severity
                                  ("error"   'error)
                                  ("warning" 'warning)
                                  (_         'info))))
                    (list (flycheck-error-new
                           :buffer (current-buffer)
                           :filename path
                           :line line
                           :column col
                           :message (format "%s [%s]" msg code)
                           :level level))))
                (alist-get 'diagnostics json))))
    :error-filter
    (lambda (errors) (flycheck-sanitize-errors errors))
    :modes (python-mode)
    :next-checkers ((warning . python-pylint))) ; è‹¥æƒ³åœ¨ Ruff ä¹‹åå†è·‘ pylintï¼Œå¯è‡ªè¡Œè°ƒæ•´

  ;; å¯ç”¨ ruff æ£€æŸ¥å™¨
  (add-to-list 'flycheck-checkers 'python-ruff)

  ;; å¯ç”¨è¯¥æ£€æŸ¥å™¨ï¼ˆè®©å®ƒåœ¨ Python ç¼“å†²åŒºè‡ªåŠ¨ç”Ÿæ•ˆï¼‰
  (add-hook 'python-mode-hook
            (lambda ()
              (flycheck-select-checker 'python-ruff)
              (flycheck-mode 1)))

#+end_src
=ruff= éœ€è¦å•ç‹¬å®‰è£…ï¼Œç”¨ =pip= æˆ–è€… =brew= éƒ½å¯ä»¥ï¼Œåªè¦ç³»ç»Ÿçš„å‘½ä»¤è¡Œå¯ä»¥æ‰¾åˆ°å®ƒå°±è¡Œã€‚

** ä»£ç è·³è½¬
åœ¨ä¹¦å†™/é˜…è¯»ä»£ç æ—¶ï¼Œå¸¸å¸¸éœ€è¦ä»å½“å‰ä½¿ç”¨å‡½æ•°çš„ä½ç½®ï¼Œè·³è½¬åˆ°å‡½æ•°çš„å®šä¹‰ä½ç½®ã€‚ =elpy= å°±
ç›´æ¥æ”¯æŒè¿™ä¸ªåŠŸèƒ½ --- åœ¨å‡½æ•°åçš„ä½ç½®å¤„ï¼ŒæŒ‰ä¸‹å¿«æ·é”® =C-c .= æˆ–è€… =M-x
elpy-goto-definition= æˆ–è€… =M-x elpy-goto-definition-other-window= ï¼ˆåœ¨æ–°çª—å£æ‰“å¼€å®šä¹‰æ–‡ä»¶ï¼‰ï¼Œå°±å¯ä»¥è·³è½¬åˆ°å‡½æ•°çš„å®šä¹‰ï¼Œå³ä½¿å®šä¹‰æ˜¯åœ¨å¦ä¸€ä¸ªæ–‡æ¡£é‡Œä¹Ÿä¸è¦ç´§ï¼Œ
=elpy= éƒ½è‡ªåŠ¨æ‰“å¼€é‚£ä¸ªæ–‡æ¡£ï¼ŒæŠŠå…‰æ ‡æ”¾åœ¨å‡½æ•°çš„å®šä¹‰å¤„ã€‚

æŒ‰ä¸‹ =M-,= ï¼Œå°±å¯ä»¥è¿”å›åˆ°åŸæ¥çš„ä½ç½®ã€‚

*** æ›´å¥½çš„è·³è½¬
æˆ‘ä»¬å¯ä»¥ç”¨ =xref= å®ç°æ›´å¥½çš„è·³è½¬
- =C-x C-.= or =M-x xref-find-definitins=
- =C-x C-/= or =M-x xref-find-references=
ç„¶åç”¨ =C-x C-,= or =M-x xref-pop-marker-stack= or =M-,= è¿”å›åŸä½ç½®ã€‚

*** æ›´å…¨é¢çš„è·³è½¬
æœ‰æ—¶å€™ï¼Œé¡¹ç›®å†…çš„æ¨¡å—ï¼Œ =elpy= å’Œ =xref= éƒ½æ‰¾ä¸åˆ°ï¼Œæˆ‘ä»¬å°±è‡ªå·±å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼ŒåŠŸè¿‡ =egrep= æ¥æ‰¾åˆ°å‡½æ•°å®šä¹‰ï¼Œç„¶åæ‰‹åŠ¨æ‰“å¼€
#+begin_src emacs-lisp
  (defun elpy-goto-definition-or-rgrep ()
    "Go to the definition of the symbol at point, if found. Otherwise, run `elpy-rgrep-symbol'."
      (interactive)
      (if (version< emacs-version "25.1")
          (ring-insert find-tag-marker-ring (point-marker))
        (xref-push-marker-stack))
      (condition-case nil (elpy-goto-definition)
          (error (elpy-rgrep-symbol
                     (concat "\\(def\\|class\\)\s" (thing-at-point 'symbol) "(")))))

    (define-key elpy-mode-map (kbd "C-c d")     'elpy-goto-definition-or-rgrep)
#+end_src
å½“æŒ‰ä¸‹ =C-c d= or =M-x elpy-goto-definition-or-rgrep= æ—¶ï¼Œå°±ä¼šæŠŠæ‰€æœ‰ç›¸å…³çš„ class å’Œ def å®šä¹‰æ–‡ä»¶éƒ½æ‰¾åˆ°ã€‚

** ä»£ç è¡¥å…¨
ç¨‹åºå‘˜é€šå¸¸éƒ½å¾ˆæ‡’ï¼Œå†™ä»£ç çš„æ—¶å€™ï¼Œå¦‚æœèƒ½å¤Ÿåªæ•²ä¸€ä¸¤ä¸ªå­—ç¬¦ï¼Œç³»ç»Ÿèƒ½å¤ŸçŒœå‡ºæ¥æ¥ä¸‹æ¥è¦å†™ä»€ä¹ˆå°±å¥½äº†ï¼Œç›´æ¥æŒ‰å›è½¦é”®æˆ–è€… TABï¼Œå°±æŠŠå‰©ä¸‹çš„å­—ç¬¦éƒ½è‡ªåŠ¨è¡¥å…¨äº†ã€‚Emacs å½“ç„¶ä¹Ÿæœ‰è¿™æ ·çš„æ’ä»¶ --- =company= ï¼šcomplete anything.
#+begin_src emacs-lisp :noweb-ref company-rds
    (use-package company
      :ensure t
      :init
      (add-hook 'c-mode-common-hook 'company-mode)
      (add-hook 'python-mode-common-hook 'company-mode)
      :config
      (eval-after-load 'c-mode '(define-key c-mode-map (kbd "[tab]") 'company-complete))
      (setq company-backends '((company-capf
                               company-keywords
                               company-semantic
                               company-files
                               company-dabbrev
                               company-dabbrev-code
                               company-etags
                               company-clang
                               company-cmake
                               company-yasnippet)))
      (setq company-tooltip-limit 20
            company-tooltip-offset-display 'lines
            company-tooltip-minimum 4
            company-tooltip-flip-when-above t
            company-tooltip-margin 3
            company-tooltip-align-annotations t  ; å¯¹é½æ³¨é‡Š
            company-tooltip-annotation-padding 1
            company-text-face-extra-attributes '(:weight bold :slant italic)
            company-text-icons-add-background t
            company-echo-delay 0
            company-require-match nil
            company-minimum-prefix-length 1      ; åªéœ€æ•² 1 ä¸ªå­—æ¯å°±å¼€å§‹è¿›è¡Œè‡ªåŠ¨è¡¥å…¨
            company-show-numbers t               ; ç»™é€‰é¡¹ç¼–å· (æŒ‰å¿«æ·é”® M-1ã€M-2 ç­‰ç­‰æ¥è¿›è¡Œé€‰æ‹©).
            company-dabbrev-other-buffers t
            company-dabbrev-ignore-case 'keep-prefix
            company-selection-wrap-around t
            company-show-quick-access 'left
            company-idle-delay 0
            company-tooltip-idle-delay 10
            company-require-match nil
            company-frontends '(company-pseudo-tooltip-unless-just-one-frontend-with-delay
                                company-preview-frontend
                                company-echo-metadata-frontend)
            company-backends '(company-capf)
            company-files-exclusions '(".git/" ".DS_Store")
      )
      (global-company-mode 1)
    )
#+end_src
å¯ä»¥çœ‹å‡ºï¼Œ =company= èƒ½è¯†åˆ«å¾ˆå¤šç§è¯­è¨€ï¼Œpython å½“ç„¶ä¹Ÿæ”¯æŒäº†ã€‚

** LSP
LSP æ˜¯ Language Server Protocol çš„ç¼©å†™ï¼Œè¯¥åè®®è¢«ç”¨åœ¨ç¼–è¾‘å™¨æˆ– IDE ä¸è¯­è¨€æœåŠ¡å™¨ä¹‹é—´ï¼Œä¸ºç¼–è¾‘å™¨æä¾›è‡ªåŠ¨è¡¥å…¨ï¼Œè·³è½¬åˆ°å®šä¹‰å’Œå¼•ç”¨æŸ¥æ‰¾ç­‰åŠŸèƒ½ã€‚ä»¥ä¸‹å†…å®¹æ¥è‡ª LSP å®˜ç½‘ï¼š

#+begin_quote
Adding features like auto complete, go to definition, or documentation on hover for a programming language takes significant effort. Traditionally this work had to be repeated for each development tool, as each tool provides different APIs for implementing the same feature.

A Language Server is meant to provide the language-specific smarts and communicate with development tools over a protocol that enables inter-process communication.

The idea behind the Language Server Protocol (LSP) is to standardize the protocol for how such servers and development tools communicate. This way, a single Language Server can be re-used in multiple development tools, which in turn can support multiple languages with minimal effort.

ä¸ºä¸€ç§ç¼–ç¨‹è¯­è¨€æ·»åŠ è‡ªåŠ¨è¡¥å…¨ï¼Œè·³è½¬åˆ°å®šä¹‰æˆ–æ‚¬åœæ–‡æ¡£ç­‰åŠŸèƒ½éœ€è¦å¾ˆå¤§çš„åŠªåŠ›ã€‚åœ¨è¿‡å»éœ€è¦ä¸ºæ¯ä¸ªå¼€å‘å·¥å…·é‡å¤è¿™é¡¹å·¥ä½œï¼Œå› ä¸ºæ¯ä¸ªå·¥å…·éƒ½æä¾›ä¸åŒçš„ API æ¥å®ç°ç›¸åŒçš„åŠŸèƒ½ã€‚

è¯­è¨€æœåŠ¡å™¨æ—¨åœ¨æä¾›ç‰¹å®šè¯­è¨€çš„åŠŸèƒ½ï¼Œå¹¶é€šè¿‡æ”¯æŒè¿›ç¨‹é—´é€šä¿¡çš„åè®®ä¸å¼€å‘å·¥å…·è¿›è¡Œé€šä¿¡ã€‚

è¯­è¨€æœåŠ¡åè®®ï¼ˆLSPï¼‰èƒŒåçš„æƒ³æ³•æ˜¯å¯¹æ­¤ç±»æœåŠ¡å™¨å’Œå¼€å‘å·¥å…·å¦‚ä½•é€šä¿¡çš„åè®®è¿›è¡Œæ ‡å‡†åŒ–ã€‚è¿™æ ·ï¼Œå•ä¸ªè¯­è¨€æœåŠ¡å™¨å¯ä»¥åœ¨å¤šä¸ªå¼€å‘å·¥å…·ä¸­é‡å¤ä½¿ç”¨ï¼Œä»è€Œå¯ä»¥ä»¥æœ€å°çš„åŠªåŠ›æ”¯æŒå¤šç§è¯­è¨€ã€‚
#+end_quote

è¿™æ ·ï¼Œæˆ‘ä»¬åªéœ€åœ¨ Emacs é‡Œè®¾ç½®ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œç”¨æ¥å¯¹æ¥å¤–éƒ¨çš„ python è¯­è¨€æœåŠ¡å™¨ç¨‹åºï¼Œå……åˆ†åˆ©ç”¨æœåŠ¡å™¨çš„æ‰€æœ‰åŠŸèƒ½å³å¯ã€‚

*** æœåŠ¡å™¨
å½“å‰æ”¯æŒ python æœ€å¥½çš„è¯­æ³•è§£æå·¥å…·æ˜¯å¾®è½¯å¼€å‘çš„ =pyright= ï¼Œä»¥åŠå®ƒçš„åˆ†æ”¯
=basedpyright= ã€‚åŸºæœ¬ç”¨æ³•æ˜¯ä¸€æ ·çš„ï¼Œåè€…æ”¯æŒæ›´å¤šçš„åŠŸèƒ½ã€‚å®ƒä»¬éƒ½å¯ä»¥é€šè¿‡ =pip= æˆ–è€…
=brew= å•ç‹¬å®‰è£…ã€‚

*** å®¢æˆ·ç«¯
Emacs é‡Œæœ€æµè¡Œçš„ LSP å®¢æˆ·ç«¯æœ‰ä¸‰ä¸ªï¼š
- lsp-mode ï¼ˆä¸è¦ä¸ LSP æœåŠ¡å™¨æ··æ·†äº†ï¼‰
- eglot
- lsp-bridge

å…¶ä¸­ï¼ŒEmacs å†…ç½®äº† Eglotï¼Œæ‰€ä»¥æœ€è½»é‡çº§ï¼Œä½†åŸºæœ¬æ»¡è¶³äº†éœ€æ±‚ã€‚é™¤éæœ‰ç‰¹æ®Šçš„è¦æ±‚ï¼Œä¸è¦è½»æ˜“ä½¿ç”¨ lsp-modeï¼Œå®ƒå¯åŠ¨å¤ªæ…¢äº†ã€‚

*** é…ç½®
#+begin_src emacs-lisp
  (use-package eglot
    :ensure t
    :defer t
    :bind (:map eglot-mode-map
                ("C-c C-d" . elpy-doc)
                ("C-c C-e" . eglot-rename)
                ("C-c C-o" . python-sort-imports)
                ("C-c C-f" . eglot-format-buffer))
    :hook ((python-mode . eglot-ensure)
           (python-mode . flyspell-prog-mode)
           (python-mode . superword-mode)
           (python-mode . hs-minor-mode)
           (python-mode . (lambda () (set-fill-column 88))))
    :config
    ;; å‘Šè¯‰ eglot ä¸è¦ç®¡ç† flymake
    (setq eglot-managed-flymake nil)

    ;; ç”¨basedpyrightæ›¿æ¢é»˜è®¤pylsp
    ;; å®ƒä¼šæä¾›è¡¥å…¨ã€è·³è½¬å®šä¹‰ç­‰åŠŸèƒ½ï¼Œä½†è¯Šæ–­ä¿¡æ¯äº¤ç»™ flycheck
    (add-to-list 'eglot-server-programs
                 '(python-mode     . ("basedpyright-langserver" "--stdio"))
    )

    ;; --- å…³é”®ï¼šè®© Eglot ä¸è¦æ¥ç®¡ Flymakeï¼Œä¸º Flycheck è…¾å‡ºç©ºé—´ ---
    ;; è¿™æ · Eglot å’Œ Flycheck å°±ä¸ä¼šæ‰“æ¶äº†
    (setq eglot-stay-out-of '(flymake))

    ;; å…³é—­ pyright linting
    (setq eglot-workspace-configuration
          '((:python (:analysis (:lintingMode "off")))))

    ;; æ—¥å¿—çº§åˆ«ï¼ˆè°ƒè¯•æ—¶ç”¨ 'debug'ï¼Œæ—¥å¸¸ç”¨ 'warning'ï¼‰
    (setq eglot-log-level 'warning)
    :init
    (setq completion-category-overrides
          '((eglot (styles orderless))))
  )

  ;; ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ï¼ˆä½¿ç”¨ eglot å†…å»ºæ ¼å¼åŒ–ï¼‰
  (add-hook 'python-mode-hook
            (lambda ()
              (add-hook 'before-save-hook 'eglot-format-buffer nil t))
  )

  ;; å¯åŠ¨æˆåŠŸæç¤º
  (add-hook 'eglot-managed-mode-hook
            (lambda ()
              (message "[EGLOT] Connected to basedpyright"))
  )

#+end_src
å¯ä»¥çœ‹å‡ºï¼Œeglot å¸®åŠ© Emacs å¯¹æ¥äº†å¾ˆå¤šå¤–éƒ¨æœåŠ¡ï¼š =basedpyrigh, elpy, flyspell=,
......ã€‚å®ƒæ¥å— =basedpyright= ç­‰å¤„ç† python ä»£ç åå‘æ¥çš„ä¿¡æ¯ï¼Œç„¶åäº¤ç»™ç›¸åº”çš„å·¥å…·å»
å¤„ç†ï¼Œeglot å†æœ€åç»Ÿä¸€æ˜¾ç¤ºå‡ºæ¥ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨ =flycheck= è¿›è¡Œè¯­æ³•æ£€æŸ¥ï¼Œ
#+begin_src emacs-lisp
  (use-package flycheck-eglot
    :ensure t
    :after (flycheck eglot)
    :config
    (global-flycheck-eglot-mode 1))

#+end_src

** ä»£ç æ ¼å¼åŒ–
å¾ˆå¤šäººå†™ python ä»£ç ï¼Œéƒ½ä¸æ˜¯å¾ˆè§„èŒƒã€‚ç”±äº python å¯¹æ ¼å¼æœ‰æ¯”è¾ƒå¼ºçš„è¦æ±‚ï¼Œä¸åƒ C/C++ è¯­è¨€æ˜¯è‡ªç”±æ ¼å¼ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸“é—¨çš„å·¥å…·æ¥è§„èŒƒåŒ–ä»£ç ã€‚è¿™é‡Œï¼Œä»ç„¶å¯ä»¥ç”¨ =ruff= æ¥å®Œæˆæ­¤åŠŸèƒ½ã€‚
#+begin_src emacs-lisp
  (defun my/ruff-format-buffer ()
    "ä½¿ç”¨ ruff å¯¹å½“å‰ buffer è¿›è¡Œæ ¼å¼åŒ–ï¼ˆç­‰ä»·äº `ruff format`)."
    (interactive)
    (when (eq major-mode 'python-mode)
      (let ((tmp (make-temp-file "ruff-format-" nil ".py")))
        (write-region nil nil tmp nil 'silent)
        (call-process "ruff" nil nil nil "format" "--quiet" tmp)
        (replace-buffer-contents (find-file-noselect tmp))
        (delete-file tmp)
        (message "Ruff æ ¼å¼åŒ–å®Œæˆ"))))

  ;; ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ï¼ˆå¯è‡ªè¡Œå†³å®šæ˜¯å¦å¼€å¯ï¼‰
  (add-hook 'before-save-hook #'my/ruff-format-buffer)

  (use-package ruff-format
    :ensure t
    :defer t
  )

  (use-package reformatter
    :ensure t
    :hook
    (python-mode    . ruff-format-on-save-mode)
    (python-ts-mode . ruff-format-on-save-mode)
    :config
    ;; å®šä¹‰ruff-formatæ ¼å¼åŒ–å‘½ä»¤
    (reformatter-define ruff-format
      :program "ruff"
      :args '("format" "-")
      :lighter " UrffFmt"
    )
    ;; å®šä¹‰ruff-check ä¿®å¤å‘½ä»¤
    (reformatter-define ruff-check
      :program "ruff"
      :args '("check" "--fix" "-")
      :lighter " RuffCheck"
    )
    ;; åœ¨python modeä¸­ï¼Œä¿å­˜æ—¶è‡ªåŠ¨è¿è¡Œruff-format
    (add-hook 'python-mode-hook
              (lambda ()
                (add-hook 'before-save-hook #'ruff-format-region nil t)))
  )

#+end_src
æ–‡ä»¶ä¿å­˜æ—¶ï¼Œä»£ç ä¼šè‡ªåŠ¨è¢«æ ¼å¼åŒ–ã€‚

è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»æ‰“é€ äº†ä¸€ä¸ªæ¼‚äº®å¥½ç”¨çš„ Python IDEã€‚Enjoy it.

* âœ” DONE ä¸€ä¸ªæ¦‚ç‡äº‹ä»¶çš„å¯å‘                                  :thinking:@æ€ç»´:
CLOSED: [2025-03-10 Mon 09:32]
:PROPERTIES:
:EXPORT_FILE_NAME: probability_thingking
:END:
æˆ‘ä»¬ä»ä¸­å­¦å¼€å§‹ï¼Œå°±å­¦äº†æ¦‚ç‡å’Œç»Ÿè®¡ï¼Œä½†æ˜¯å¤§å¤šæ•°äººéƒ½è¢«é‚£äº›ç»•æ¥ç»•å»çš„æ•°å­¦é¢˜æå¾—å¤´æ˜è„‘èƒ€ï¼Œå®Œå…¨ä¸çŸ¥é“è¿™äº›æ€æƒ³åœ¨ç°å®ä¸­æœ‰ä»€ä¹ˆç”¨å¤„ã€‚å…¶å®ï¼Œæ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œå¤§é‡çš„äº‹æƒ…éƒ½æ˜¯ç”±æ¦‚ç‡å’Œç»Ÿè®¡æ¥æ”¯æ’‘çš„ã€‚è„‘è¢‹é‡Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæ€æƒ³ï¼Œå°±å¾ˆå®¹æ˜“çŠ¯é”™è¯¯ï¼Œç”šè‡³è¢«éª—ã€‚æˆ‘ç”¨ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ä¸€ä¸‹ã€‚

** äº‹ä¾‹
å¦‚æœç¤¾ä¼šä¸Šçªç„¶å‡ºç°ä¸€ç§ä¼ æŸ“ç—…ï¼Œå¾ˆè‡´å‘½ï¼Œå¤§æ¦‚è¢«ä¼ æŸ“å˜æˆé˜³æ€§çš„æ¦‚ç‡æ˜¯åƒåˆ†ä¹‹ä¸€ã€‚å¤§å®¶éƒ½å¾ˆæ‹…å¿ƒï¼Œä¹Ÿå¸Œæœ›æ—©æ—©åœ°å‘ç°å¹¶é¢„é˜²ã€‚äºæ˜¯ï¼Œç§‘å­¦å®¶ç ”åˆ¶å‡ºäº†ä¸€ç§æ£€æµ‹ä»ªå™¨ï¼Œè¿ç”¨äº†æœ€å…ˆè¿›çš„ç§‘å­¦æŠ€æœ¯ï¼Œæ£€æµ‹æˆåŠŸç‡ä¸º 99.9%ã€‚åªè¦è¢«æ„ŸæŸ“ï¼Œå°±èƒ½åŠæ—¶åœ°æ£€æµ‹å‡ºæ¥ã€‚ä½†æ˜¯ï¼Œå¤§å®¶éƒ½çŸ¥é“ï¼Œä»»ä½•ä»ªå™¨éƒ½æœ‰ä¸€å®šçš„å‡ºé”™æ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯è¯¯æ£€ç‡ ------ ä¸€ä¸ªäººæ²¡æœ‰è¢«æ„ŸæŸ“ï¼Œä½†æ˜¯è¢«æ£€æµ‹ä¸ºé˜³æ€§ï¼Œä¿—ç§°â€œå‡é˜³æ€§â€ã€‚ç§‘å­¦å®¶ä»¬åˆæƒ³äº†å¾ˆå¤šåŠæ³•ï¼Œæœ€åä¹Ÿè¿ç”¨äº†æœ€å…ˆè¿›çš„ç§‘å­¦æŠ€æœ¯ï¼Œè®©è¯¯æ£€ç‡ä¹Ÿå˜å¾—å¾ˆä½ï¼Œæœ€åçš„æ•ˆæœä¹Ÿæ˜¯ 99.9%çš„å¯èƒ½ä¸ä¼šå‡ºç°â€œå‡é˜³æ€§â€ã€‚

ç°åœ¨ï¼Œå¦‚æœä¸€ä¸ªäººè¢«è¿™å°ä»ªå™¨æ£€æµ‹ä¸ºé˜³æ€§äº†ï¼Œè¯·é—®ï¼Œä»–çœŸæ­£è¢«æ„ŸæŸ“çš„æ¦‚ç‡æ˜¯å¤šå¤§ï¼Ÿ

** æš‚åœ
è¯·å¤§å®¶æš‚åœå¾€ä¸‹è¯»ï¼Œè‡ªå·±çŒœä¸€ä¸‹æ­£ç¡®ç­”æ¡ˆã€‚

------

...

...

** ç­”æ¡ˆ
å¾ˆå¤šäººéƒ½è§‰å¾—ï¼Œè¿™ä¸ªä»ªå™¨è¿™ä¹ˆå…ˆè¿›ï¼Œæ£€æµ‹æˆåŠŸç‡ä¸º 99.9%ï¼Œè¯¯æ£€ç‡ä¹Ÿå¾ˆä½ï¼Œé‚£ä¸€æ—¦è¢«æ£€æµ‹å‡ºæ¥æ˜¯é˜³æ€§ï¼Œè‡³å°‘ä¹Ÿæ˜¯ 80%ä»¥ä¸Šçš„å¯èƒ½æ€§è¢«æ„ŸæŸ“äº†å§ã€‚äºæ˜¯å“å¾—ä¸è¡Œã€‚ä½†çœŸå®çš„ç­”æ¡ˆæ˜¯ï¼šåªæœ‰ 50%çš„å¯èƒ½æ€§æ˜¯é˜³æ€§ã€‚

æˆ‘æ¥è§£é‡Šä¸€ä¸‹ï¼Œç”±äºè¿™ä¸ªç—…çš„å‘ç—…ç‡æ˜¯åƒåˆ†ä¹‹ä¸€ï¼Œå¯ä»¥å‡å®š 1000 ä¸ªäººé‡Œï¼Œæœ‰ä¸€ä¸ªäººæ˜¯çœŸæ­£é˜³æ€§çš„ã€‚è¿™å°ä»ªå™¨çš„æ£€æµ‹æ­£ç¡®ç‡æ˜¯ 99.9%ï¼Œå› æ­¤è¿™ä¸ªé˜³æ€§çš„äººï¼Œä¸€å®šä¼šè¢«æ£€æµ‹å‡ºæ¥ã€‚ä½†æ˜¯ï¼Œè™½ç„¶ä»ªå™¨çš„è¯¯æ£€ç‡ä¹Ÿå¾ˆä½ï¼Œä½†æ˜¯ä¹Ÿä¼šæŠŠæ­£å¸¸çš„äººæ£€æµ‹å‡ºæ˜¯é˜³æ€§ã€‚è¿™ä¸ªæ¦‚ç‡æ˜¯å¤šå°‘å‘¢ï¼Ÿ99.9%æ„å‘³ç€ï¼Œ1000 ä¸ªäººä¸­ä¹Ÿæœ‰ä¸€ä¸ªæ­£å¸¸äººä¼šè¢«æ£€æµ‹ä¸ºâ€œå‡é˜³æ€§â€ã€‚äºæ˜¯ï¼Œåœ¨è¿™ 1000 ä¸ªäººä¸­ï¼Œå°±æœ‰ä¸¤ä¸ªäººä¼šè¢«ä»ªå™¨æ£€æµ‹ä¸ºé˜³æ€§ï¼Œä½†åªæœ‰ä¸€ä¸ªäººæ˜¯çœŸè¢«æ„ŸæŸ“è€…ã€‚

æ‰€ä»¥ï¼Œå¦‚æœä»ªå™¨è¯´ä¸€ä¸ªäººæ˜¯é˜³æ€§ï¼Œæ„å‘³ç€ï¼Œä»–/å¥¹åªæœ‰ä¸€åŠçš„å¯èƒ½æ˜¯çœŸæ­£çš„è¢«æ„ŸæŸ“è€…ã€‚

** è§£é‡Š
ä¸ºä»€ä¹ˆç­”æ¡ˆå’Œç›´è§‰ç›¸å·®è¿™ä¹ˆå¤§å‘¢ï¼Ÿå¥¥ç§˜å°±åœ¨äºè¿™ä¸ªç—…çš„çœŸå®å‘ç—…ç‡ï¼Œåªæœ‰åƒåˆ†ä¹‹ä¸€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªç—…çš„çŠ¯ç—…ç‡æ˜¯å°æ¦‚ç‡äº‹ä»¶ã€‚æˆ‘ä»¬å¤§å®¶å¯¹äºå°æ¦‚ç‡æ²¡æœ‰ç›´è§‚çš„æ„Ÿå—å’Œè®¤è¯†ï¼Œäºæ˜¯ç°å®ç”Ÿæ´»ä¸­ï¼Œé‡åˆ°è¿™ç§æƒ…å†µï¼Œå°±ä¼šæ…Œäº†æ‰‹è„šï¼Œè§‰å¾—è¿™ä¹ˆå…ˆè¿›çš„ä»ªå™¨ï¼Œéƒ½æ£€æµ‹å‡ºæ¥æ˜¯é˜³æ€§äº†ï¼Œè¿˜èƒ½æ˜¯å‡çš„ï¼Ÿå¾ˆå¤šéª—å­äºæ˜¯å°±è¶è™šè€Œå…¥ï¼Œå¤§å‘å…¶è´¢äº†ã€‚

æ‰€ä»¥ï¼Œå¡å°”Â·è¨æ ¹è¯´è¿‡ä¸€å¥åè¨€ï¼šExtraordinary claims require extraordinary evidence ------ è¶…å‡¡ä¸»å¼ é¡»æœ‰è¶…å‡¡è¯æ®ã€‚ä¸€ä»¶äº‹ï¼Œå¦‚æœå‘ç”Ÿçš„æ¦‚ç‡å¾ˆå°ï¼Œæˆ‘ä»¬å¦‚æœè¦ä¸‹ç»“è®ºï¼Œå°±å¿…é¡»æ ¼å¤–æ…é‡ï¼Œéœ€è¦æ›´å¤šçš„è¯æ®æ¥æ”¯æ’‘æ‰è¡Œã€‚

** å¼•ç”³
å› æ­¤ï¼Œå¯¹äºå¤§æ¦‚ç‡äº‹ä»¶å’Œå°æ¦‚ç‡äº‹ä»¶ï¼Œå¤§å®¶ä¸€å®šè¦æœ‰ä¸€å®šçš„è®¤çŸ¥ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœå‘ç—…ç‡æ˜¯ä¸‡åˆ†ä¹‹ä¸€ï¼Œå¤§å®¶å¯ä»¥ç®—ç®—ï¼Œå³ä½¿è¿™ä¹ˆå…ˆè¿›çš„ä»ªå™¨æ£€æµ‹å‡ºæ¥æ˜¯é˜³æ€§ï¼ŒçœŸå®çš„å¾—ç—…æ¦‚ç‡æ˜¯å¤šå¤§ï¼Ÿ

ä¸‡åˆ†ä¹‹ä¸€çš„å‘ç—…ç‡ï¼Œå¯¹äºçœŸå®ä¸–ç•Œæ¥è¯´ï¼Œæ˜¯å¾ˆå¸¸è§çš„ã€‚å¤§å¤šæ•°çš„ç–‘éš¾æ‚ç—‡ï¼Œéƒ½è¿œè¿œä½äºè¿™ä¸ªæ¦‚ç‡ã€‚æ‰€ä»¥ï¼Œç°å®ç”Ÿæ´»ä¸­ï¼Œä¸€å®šä¸è¦è¿·ä¿¡å“ªä¸€å®¶æœºæ„çš„è¯Šæ–­ç»“æœï¼Œä¸æ˜¯è¯´ä»–ä»¬æ°´å¹³ä¸é«˜ï¼Œè€Œæ˜¯æ•°å­¦å°±è¯æ˜äº†ï¼Œå¤šåšå‡ æ¬¡æ£€æµ‹ï¼Œæ‰æ˜¯æœ€é‡è¦çš„ã€‚

* âœ” DONE ä¸€ä¸ªå¥‡å¦™çš„æ•°å­¦æ€ç»´                                :thinking:@æ€ç»´:
CLOSED: [2025-03-07 Fri 11:14]
:PROPERTIES:
:EXPORT_FILE_NAME: math_thingking
:END:
æ•°å­¦çœŸæ˜¯ä¸€ä¸ªå¥‡æ€ªçš„ä¸œè¥¿ï¼Œæˆ‘ä»¬æ—©å°±çŸ¥é“äº†å„ç§ç¾å¦™çš„æ•°å­¦æ€æƒ³ï¼Œä»¥åŠæŠ½è±¡ç¾å¸¦æ¥çš„éœ‡æ’¼ã€‚å‰ä¸¤å¤©ï¼Œæˆ‘çœ‹åˆ°ä¸€ä¸ªå…³äºæ•°å­¦å‘½é¢˜è¯æ˜çš„å°æ•…äº‹ï¼Œå†ä¸€æ¬¡åœ°åˆ·æ–°äº†æˆ‘å¯¹äºæ•°å­¦æ€æƒ³çš„è®¤è¯†ã€‚

æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ•°å­¦è¯æ˜ä¸­æœ‰ä¸€ç§æ–¹æ³•å«åè¯æ³•ï¼Œå°±æ˜¯é€šè¿‡æ˜¯å¦èƒ½æ‰¾å‡ºä¸€ä¸ªåä¾‹ï¼Œæ¥è¯æ˜ä¸€ä¸ªå‘½é¢˜çš„æ­£ç¡®æ€§ã€‚ä½†æ˜¯ï¼Œè¿™æ¬¡è¯´çš„æ˜¯ï¼Œæˆ‘ä»¬æ‰¾ä¸åˆ°åä¾‹ï¼Œä½†ä¾ç„¶èƒ½å¤Ÿç”¨åè¯æ³•æ¥è¯æ˜ä¸€ä¸ªå‘½é¢˜ã€‚æˆ‘ç®€å•åœ°æè¿°ä¸€ä¸‹è¿™ä¸ªå‘½é¢˜ï¼Œç„¶åç”¨æˆ‘è‡ªå·±ç†è§£çš„æ–¹å¼æ¥è®²è¿°ä¸€ä¸‹è¿™ä¸ªè¯æ˜è¿‡ç¨‹ï¼ˆå¦‚æœè¯æ˜é”™äº†ï¼Œè´£ä»»å…¨åœ¨æˆ‘ï¼ŒåŸæ¥çš„æ•°å­¦æ€æƒ³åº”è¯¥æ˜¯æ­£ç¡®çš„ ğŸ˜‰ï¼‰

** å‘½é¢˜
è¯·åˆ¤æ–­å¹¶è¯æ˜ï¼šä¸€ä¸ªæ— ç†æ•°çš„æ— ç†æ•°æ¬¡å¹‚ï¼Œä¸€å®šæ˜¯æ— ç†æ•°ã€‚

** è§£é‡Š
æ— ç†æ•°å°±æ˜¯æ— é™ä¸å¾ªç¯å°æ•°ï¼Œæ¯”å¦‚ $\pi$, $e$, ......, ç­‰ç­‰ã€‚ç”±äºæ— ç†æ•°æ— æ³•ç²¾ç¡®å¾—åˆ°æ‰€æœ‰æ•°å€¼ï¼Œæ‰€ä»¥ä¸€ä¸ªæ— ç†æ•°çš„æ— ç†æ•°æ¬¡å¹‚ï¼Œé™¤äº†å°‘æ•°æƒ…å†µå¤–ï¼Œæ˜¯æ— æ³•å‡†ç¡®å¾—åˆ°æ‰€æœ‰æ•°å€¼çš„ã€‚æ¯”å¦‚ï¼Œ$\pi^{\pi}$ï¼Œå®ƒçš„å‰ 30 ä½æ•°å€¼æ˜¯ï¼š36.4621596072079117709908260227ã€‚æˆ‘ä»¬æ ¹æœ¬æ— æ³•ä»ä¸­åˆ¤æ–­ï¼Œæœ€åçš„æ•°å€¼æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰ç†æ•°ï¼Œè¿˜æ˜¯ä»ç„¶ä¸ºæ— ç†æ•°ã€‚

** è¯æ˜
æˆ‘ä»¬ç”¨åè¯æ³•æ¥è¯æ˜æ­¤å‘½é¢˜ï¼Œå³å‡è®¾åŸå‘½é¢˜æ˜¯æˆç«‹çš„ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬æ„é€ ä¸€ä¸ªæ— ç†æ•°çš„æ— ç†æ•°æ¬¡å¹‚ï¼š $x = \sqrt{2}^{\sqrt{2}}$, è¿™ä¸ªæ•°å€¼æœ‰ä¸¤ç§æƒ…å†µï¼š
1. $x$ ä¸ºæœ‰ç†æ•°
2. $x$ ä¸ºæ— ç†æ•°

å¯¹äºç»“æœ 1ï¼Œé‚£å‘½é¢˜å½“ç„¶å°±é”™äº†ï¼Œå› ä¸ºæˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªæ— ç†æ•°çš„æ— ç†æ•°æ¬¡å¹‚ä¸ºæœ‰ç†æ•°ã€‚æˆ‘ä»¬ç”¨åè¯æ³•æ¥åˆ¤æ–­æƒ…å†µ 2ï¼Œæˆ‘ä»¬ç»§ç»­æ„é€ ä¸€ä¸ªæ–°çš„æ•°ï¼š $y = x^{\sqrt{2}}$, è¿ç®—å¯å¾—ï¼š

\(y = \sqrt{2}^{\sqrt{2}^{\sqrt{2}}} = \sqrt{2}^2 = 2 \)

ç”±äº $x$ ä¸ºæ— ç†æ•°ï¼Œæ ¹æ®å‡è®¾ï¼Œ$y$ ä¹Ÿåº”è¯¥æ˜¯æ— ç†æ•°ï¼Œä½†ç°åœ¨æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªæœ‰ç†æ•° $2$ï¼Œæ‰€ä»¥å‡è®¾ä¸æˆç«‹ï¼Œç»“è®ºåº”è¯¥æ˜¯ï¼Œæ— ç†æ•°çš„æ— ç†æ•°æ¬¡å¹‚ï¼Œä¸ä¸€å®šæ˜¯æ— ç†æ•°ã€‚

** è¯´æ˜
è¿™é‡Œï¼Œæœ€å¥‡å¦™çš„å°±æ˜¯ï¼Œæˆ‘ä»¬è™½ç„¶æ„é€ äº†ä¸€ä¸ªæ— ç†æ•°çš„æ— ç†æ•°æ¬¡å¹‚ï¼š\(\sqrt{2}^{\sqrt{2} }\)ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶æ²¡æœ‰å®é™…æ±‚å‡ºæ¥è¿™ä¸ªæ•°ï¼Œä¹Ÿå®Œå…¨æ²¡æœ‰è¯æ˜ï¼Œè¿™ä¸ªæ•°åˆ°åº•æ˜¯æ— ç†æ•°è¿˜æ˜¯æœ‰ç†æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ç”¨äº†åè¯æ³•ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å®é™…æ‰¾åˆ°ä¸€ä¸ªåä¾‹ï¼Œå°±è¯æ˜äº†åŸæ¥çš„å‘½é¢˜ä¸æˆç«‹ã€‚

å•Šï¼Œå¤šä¹ˆå¥‡å¦™çš„æ•°å­¦æ€æƒ³å•Šã€‚

** P.S.
å¤§å®¶å¯èƒ½æœ‰ç‚¹å¥½å¥‡ï¼Œåˆ°åº• \(\sqrt{2}^{\sqrt{2} }\) æ˜¯ä¸æ˜¯æœ‰ç†æ•°å•Šã€‚æˆ‘ç”¨å¿ƒçˆ±çš„ Wolfram è®¡ç®—äº†ä¸€ä¸‹å‰ 1000 ä½æ•°å€¼ï¼Œä½ ä»¬çŒœï¼Œå®ƒåˆ°åº•æ˜¯ä¸æ˜¯æœ‰ç†æ•°ï¼ŸğŸ˜œ

\(\sqrt{2}^{\sqrt{2}  
} = \) 

1.632526919438152844773495381024719602079108857053
   11411724778068438303520599861664224785550750662
   60414230011620076508762926586855535678286653743
   53276990370339509808349458727844365578417316013
   87397734571771945017640579176808540612696970706
   77170888211473865443716121182725324216022231689
   35434603655006804958808606092092531292648747441
   39100350665100223159724526414595020972636096696
   48057571699115982318026242029527507671359747631
   50951814992616526918951905735917879441942227750
   48361947119473707135051457034779869040074304850
   86049086756447969815057362491879184271662118777
   21616761344994650906881387122735130101636571052
   64559906025136865172262615799791196913108286037
   30870686736120983480646071979524565988415556211
   89979103761174458226636201867544028322841005469
   75220327810489296271028397543501936633946445408
   54828542034506598152799747777276307577783001254
   46163190919411727134856477923053227331124570871
   94322830350968985979373357020305196153528119081
   54595746674092743048895923198652644685232660662
   62013475716


* âœ” DONE ã€Šä¸€ä¸ªæ‘åº„é‡Œçš„ä¸­å›½ã€‹------æ”¹é©ï¼Œæ”¹å˜äº†ä»€ä¹ˆ         :reading:@è¯»ä¹¦:
CLOSED: [2025-02-16 Sun 21:28]
:PROPERTIES:
:EXPORT_FILE_NAME: china_in_village
:END:

è¿™æœ¬ä¹¦åœ¨æˆ‘çš„ä¹¦åº“é‡Œæ”¾äº†å¾ˆä¹…ï¼Œéƒ½æ²¡æœ‰ç¿»å¼€æ¥è¯»ã€‚ä¸€æ˜¯å¤ªåšé‡ï¼ŒäºŒæ¥ä¹Ÿå¤ªæ²‰é‡ã€‚ä½†å¿ƒé‡Œä¸€ç›´è®°æŒ‚ç€å®ƒï¼Œäºæ˜¯å€Ÿè¿™æ¬¡æ¥åŒ—äº¬åŠäº‹ï¼Œè·¯é€”å’Œæ™šä¸Šï¼Œæ²¡æœ‰å…¶ä»–ä»€ä¹ˆäº‹ï¼Œä¹Ÿå°±æ’é™¤å¹²æ‰°ï¼Œè®¤çœŸè¯»å®Œã€‚æœç„¶å¦‚è‡ªå·±æ‰€æ–™ï¼Œè¯»å®Œä¹‹åï¼Œæ²‰é‡çš„éƒ¨åˆ†æ›´åŠ æ²‰é‡ï¼Œè€Œå½“å¹´è¿·èŒ«ä¹‹å¤„ï¼Œä¼¼ä¹ä¹Ÿæ²¡æœ‰å¼€æ‚Ÿå¤šå°‘ã€‚

#+ATTR_ORG: :width 500
#+ATTR_HTML: :width 60% :align center
[[file:~/Documents/RDS/BLOG/hugo/static/img/china_in_village.jpg]]

ã€Šä¸€ä¸ªæ‘åº„é‡Œçš„ä¸­å›½ã€‹ä»¥ä½œè€…ç†ŠåŸ¹äº‘ä»å°ç”Ÿæ´»çš„å°å ¡æ‘ä¸ºä¾‹ï¼Œè®²è¿°äº†ä¸€ä¸ªæ‘åº„è¿‘ç™¾å¹´çš„å˜è¿ï¼Œè¿›è€Œå¼•ä¼¸å‡ºå›½å®¶çš„å˜åŒ–ã€‚ä¸­å›½å‡ åƒå¹´æ¥éƒ½æ˜¯ä¸€ä¸ªå†œä¸šå›½å®¶ï¼Œè™½ç„¶è¿‘ 30 å¹´ï¼Œéšç€ä¸–ç•Œæ½®æµçš„è¿›æ­¥ï¼Œä¹Ÿå¤§å¤§åŠ å¿«äº†ç°ä»£åŒ–çš„è¿›ç¨‹ã€‚ä½†å„ç§ç¤¾ä¼šç°è±¡ï¼Œä»¥åŠå‡ºç°çš„å¾ˆå¤šç¤¾ä¼šé—®é¢˜ï¼Œæœ¬è´¨ä¸Šéƒ½ä¸å†œæ‘ã€å†œä¸šå’Œå†œæ°‘æ¯æ¯ç›¸å…³ã€‚æˆ‘åšå£«æ¯•ä¸šçš„ 2001 å¹´å‰åï¼Œæ›¾ç»ç¤¾ä¼šä¸Šå¾ˆçƒ­çƒˆåœ°è®¨è®ºâ€œä¸‰å†œâ€é—®é¢˜ã€‚å½“æ—¶ï¼Œä¸€ä¸ªå¹´è½»çš„ä¹¡å…šå§”ä¹¦è®°---ææ˜Œå¹³ï¼Œç»™æ€»ç†å†™äº†å°ä¿¡ï¼Œå¤§å£°å‘¼åï¼šå†œæ°‘çœŸè‹¦ã€å†œæ‘çœŸç©·ã€å†œä¸šçœŸå±é™©ï¼å¼•èµ·äº†ç¤¾ä¼šæå¤§çš„åå“ï¼Œé«˜å±‚ä¹Ÿå¼€å§‹è®¤çœŸå¯¹å¾…â€œä¸‰å†œâ€ã€‚æˆ‘å½“æ—¶è¯»äº†å¾ˆå¤šç›¸å…³çš„ä¹¦ç±å’Œæ–‡ç« ï¼Œå’Œå¿—åˆšã€å”åšå£«éƒ½ä¸æ­¢ä¸€æ¬¡æ¿€çƒˆäº‰è¾©è¿‡ç±»ä¼¼è¯é¢˜ï¼Œé‚£å°±æ˜¯ï¼Œå†œæ°‘çš„é—®é¢˜ï¼Œåˆ°åº•æ˜¯ä¸ªäººå› ç´ å¤šè¿˜æ˜¯å›½å®¶å› ç´ é‡ï¼Ÿ

å°å»ºå¸ç‹æ—¶ä»£ï¼Œè‡ªä¸å¿…è¯´ï¼Œå†œæ°‘åªæ˜¯ç»´ç³»ç¤¾ä¼šè¿è½¬çš„é›¶ä»¶è€Œå·²ã€‚â€œè‰æ°‘â€ã€â€œèšæ°‘â€ã€â€œè´±æ°‘â€ç­‰ç§°å‘¼ï¼Œæœ‰è‡ªå˜²çš„ï¼Œæœ‰è¢«å¼ºåŠ çš„ã€‚ä½†å¯¹äºç»Ÿæ²»è€…æ¥è¯´ï¼Œå¤§çº¦å†œæ°‘å’Œä¸€æ£µè‰ã€ä¸€åªèš‚èšï¼ŒçœŸä¸ä¼šæœ‰å¤šå¤§åŒºåˆ«ã€‚åˆ°äº†æ°‘å›½æ—¶ä»£ï¼Œä»ä¸Šå±‚åˆ°ç¤¾ä¼šä¸­åšï¼Œå¾ˆå¤šäººå¼€å§‹åæ€ï¼Œå¦‚æœå†œæ°‘ä¸å¯Œè¶³ä¸å¼€åŒ–ï¼Œå›½å®¶æ€ä¹ˆç§°å¾—ä¸Šå‘è¾¾ï¼Ÿå›½å®¶åˆå¦‚ä½•ä¸åˆ—å¼ºæŠ—è¡¡ï¼Ÿä¸Šä¸ªä¸–çºªäºŒåå¹´ä»£å¼€å§‹çš„å„ç§æ”¹é©ï¼Œæœ‰å®˜æ–¹çš„ï¼Œæœ‰è‡ªå‘çš„ï¼Œæœ‰çƒ­è¡€äººå£«ä¸»åŠ¨æ·±å…¥å†œæ‘è¯•éªŒçš„......ï¼Œä¸ä¸€è€Œè¶³ã€‚ä½†ç»“æœæ¯«æ— ä¾‹å¤–ï¼Œè‡ªç„¶éƒ½æ˜¯å¤±è´¥äº†ã€‚

å› ä¸ºåœŸæ”¹ï¼Œå¸å¼•äº†æ›´å¤šå†œæ‘å­å¼Ÿå‚ä¸é©å‘½ã€‚åˆ°äº†èƒœåˆ©ï¼Œåˆå›åˆ°å†œæ‘ã€‚æ›¾ç»çš„åœŸåœ°æµè½¬ï¼Œæœ€ååˆå¤å½’åŸç‚¹ã€‚åº•å±‚çš„äººæ°‘ï¼Œä¼¼ä¹ä»€ä¹ˆéƒ½æ²¡æœ‰æ‹¥æœ‰è¿‡ï¼Œè€Œæœ‰äº›äººï¼Œå´ä¸Šä¸‹å…¶æ‰‹ï¼ŒåŸä¹¡é€šåƒï¼Œä¸¤é¢çš„åˆ©ç›Šéƒ½è·å–äº†ã€‚å¦‚ä»Šçš„ä¹¡æ‘ï¼Œé’å£®å¹´æµå¤±ä¸¥é‡ï¼Œè€å°‘ä¸¤æç•™å®ˆï¼Œè¯¸å¤šé—®é¢˜ï¼ŒåŸºæœ¬æ˜¯é ä¸ªä½“å’Œå®¶åº­æ¥æ¶ˆåŒ–ã€‚ç»æµé«˜é€Ÿå‘å±•çš„æ—¶å€™ï¼ŒåŸå¸‚è¿˜å¯ä»¥å¸¦åŠ¨å†œæ‘ã€‚ç­‰åˆ°ç»æµå‡ç¼“æˆ–è€…åœæ»æ—¶ï¼ŒåŸå¸‚è¿˜éœ€è¦å†œæ‘æ¥åå“ºã€‚è€Œå…‹å¼ºæ€»ç†æ›¾ç»å…¬å¼€çš„æ•°æ® ------ 6 äº¿äººå£ï¼Œæœˆæ”¶å…¥ä½äºåƒå…ƒ ------ å¦‚ä½•å¹³è¡¡å‘¢ï¼Ÿ

ä¸€ä¸ªæ‘åº„çš„ç™¾å¹´å˜è¿ï¼Œä¼¼ä¹ä¹Ÿæ²¡æœ‰é€ƒè¿‡å¤šå°‘è½®å›çš„å‘½è¿ã€‚æ‘åº„é‡Œçœ‹å‡ºçš„å›½å®¶ï¼Œåˆæœ‰å¤šå°‘äººçš„å‘½è¿ï¼Œåœ¨æ—¶ä»£çš„æ½®æµä¸­åå¤è½®å›ï¼Ÿ

æˆ‘è™½ç„¶æ˜¯æ²¹ç”°å‡ºç”Ÿçš„å­©å­ï¼Œä½†ä»å°é’»äº•å…¬å¸çš„å¤§é™¢å›´å¢™å¤–ï¼Œéƒ½æ˜¯å†œæ‘ã€‚æˆ‘ä¹Ÿå–œæ¬¢ä¸€ä¸ªäººï¼Œç»å¸¸ç¿»å‡ºå›´å¢™ï¼Œåˆ°ç”°é‡é‡Œç–¯è·‘ã€‚ç»å¸¸è·‘ç´¯äº†ï¼Œå°±é™é™åœ°ååœ¨ç”°é—´åœ°å¤´ï¼Œå’Œå†œæ°‘èŠå¤©ã€‚æˆ–è€…ï¼Œå°±æŠ±è†å¸­åœ°è€Œåï¼Œçœ‹å¤©ä¸Šçš„ç™½äº‘æ•£äº†åˆèšï¼Œèšäº†åˆæ•£ã€‚çˆ¶äº²ä¹Ÿç»å¸¸ç»™æˆ‘è®²å°æ—¶å€™åœ¨å†œæ‘çš„å„ç§è‹¦æ—¥å­ï¼Œå®¶æ—æ›¾ç»å‘è¾¾è¿‡ï¼Œä½†åœ¨çˆ·çˆ·å°æ—¶å€™ï¼Œä»–çš„çˆ¶äº²æ—©é€ï¼Œäºæ˜¯å®¶é“ä¸­è½ï¼Œå­¤å„¿å¯¡æ¯ï¼Œå’Œå¤§å¤šäººå†œäººä¸€æ ·ï¼Œè‹¦è‹¦ç»´æŒç€ç”Ÿè®¡ã€‚çˆ¶äº²å…„å¼Ÿå§Šå¦¹å…­äººï¼Œä¹Ÿåªæœ‰ä»–è¯»ä¹¦è€ƒå­¦ç¦»å¼€äº†å†œæ‘ã€‚äºæ˜¯ï¼Œã€Šä¸€ä¸ªæ‘åº„é‡Œçš„ä¸­å›½ã€‹é‡Œæè¿°çš„å°å ¡æ‘ï¼Œæˆ‘è¯»èµ·æ¥ä»¿ä½›å°±å¾ˆç†Ÿæ‚‰ï¼Œå¾ˆåƒçˆ¶äº²ä»å°ç”Ÿæ´»çš„åœ°æ–¹ï¼Œè€Œé‡Œé¢çš„äººï¼Œå¤§çº¦ä¹Ÿåƒæˆ‘çš„çˆ·çˆ·ä»¬ã€‚

è¿˜åœ¨æœ¬ç§‘æ—¶ï¼Œæˆ‘å°±è¯»è¿‡æ•™å‘˜å†™çš„ã€Šæ¹–å—å†œæ°‘è¿åŠ¨è€ƒå¯ŸæŠ¥å‘Šã€‹ã€ã€Šè®ºåå¤§å…³ç³»ã€‹ç­‰æ–‡ç« ã€‚å½“æ—¶æ¨¡æ¨¡ç³Šç³Šï¼Œå¹¶ä¸çœŸåˆ‡åœ°æ˜ç™½é‡Œé¢çš„å¾ˆå¤šå«ä¹‰ã€‚å¦‚ä»Šï¼Œè‡ªå·±æ„Ÿå—è¿‡æ›´å¤šçš„ç¤¾ä¼šç™¾æ€ï¼Œä¹Ÿæœ‰äº†ä¸€äº›æ„Ÿæ‚Ÿã€‚å¯æ˜¯ï¼ŒçœŸå®ä¸–ç•Œé‡Œçš„å¾ˆå¤šæœ‹å‹ï¼Œä¼¼ä¹åœ¨åŸé‡Œå¾…ä¹…äº†ï¼Œæˆ–è€…ä»æœªæ„Ÿè§¦è¿‡å†œæ‘çš„å…·ä½“ç”Ÿæ´»ï¼Œå¸¸å¸¸è§‰å¾—æˆ‘åœ¨å¤¸å¼ ã€‚æˆ‘æƒ³ï¼Œå¤§å®¶å¦‚æœéƒ½æ¥è¯»è¯»ã€Šä¸€ä¸ªæ‘åº„é‡Œçš„ä¸­å›½ã€‹ï¼Œæ„Ÿå—ä¸€ä¸‹çœŸå®çš„å†œæ‘ï¼ŒåŒç†å¿ƒå’Œç¤¾ä¼šå¿ƒå¤§æ¦‚éƒ½ä¼šå¥½å¾ˆå¤šã€‚åœ¨è¿™ä¸ªä¸–ç•Œé‡Œï¼Œå¤§å®¶çš„æ‚²æ¬¢ï¼Œå¹¶ä¸ç›¸åŒã€‚å€˜è‹¥èƒ½ç›¸é€šä¸€äº›ï¼Œä¹Ÿè®¸èƒ½å°‘è®¸å¤šäº‰åµã€‚

æˆ‘æ€»æ€€ç–‘ç†ŠåŸ¹äº‘å’Œæˆ‘æ˜¯ä¸€ä¸ªå¹´ä»£çš„äººï¼Œæ£€ç´¢ä¹‹åï¼Œæœä¸å…¶ç„¶ã€‚ä¹¦æ–‹é‡Œè±¡ç‰™å¡”ä¸­çš„çŸ¥è¯†åˆ†å­å•Šï¼Œä¹Ÿè¦å¤šå†™ä¸€äº›è¿™æ ·çš„æ–‡ç« æ‰å¥½ï¼Œå¤šè¯»ä¸€äº›è¿™æ ·çš„æ–‡ç« æ‰å¥½ã€‚

